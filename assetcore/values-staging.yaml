# Staging environment overrides

services:
  assetregistry:
    replicaCount: 2
    image:
      tag: staging
    resources:
      limits:
        cpu: 400m
        memory: 384Mi
      requests:
        cpu: 75m
        memory: 96Mi
    env:
      ASPNETCORE_ENVIRONMENT: Staging
    autoscaling:
      enabled: true
      minReplicas: 1
      maxReplicas: 5
      targetCPUUtilizationPercentage: 70

  auditcompliance:
    replicaCount: 1
    image:
      tag: staging
    resources:
      limits:
        cpu: 250m
        memory: 192Mi
      requests:
        cpu: 40m
        memory: 48Mi
    env:
      ASPNETCORE_ENVIRONMENT: Staging
    autoscaling:
      enabled: true
      minReplicas: 1
      maxReplicas: 3
      targetCPUUtilizationPercentage: 70

  identityaccess:
    replicaCount: 2
    image:
      tag: staging
    resources:
      limits:
        cpu: 300m
        memory: 256Mi
      requests:
        cpu: 75m
        memory: 96Mi
    env:
      ASPNETCORE_ENVIRONMENT: Staging
    autoscaling:
      enabled: true
      minReplicas: 1
      maxReplicas: 4
      targetCPUUtilizationPercentage: 70

  maintenancescheduler:
    replicaCount: 1
    image:
      tag: staging
    resources:
      limits:
        cpu: 250m
        memory: 192Mi
      requests:
        cpu: 40m
        memory: 48Mi
    env:
      ASPNETCORE_ENVIRONMENT: Staging
    autoscaling:
      enabled: true
      minReplicas: 1
      maxReplicas: 2
      targetCPUUtilizationPercentage: 70

  notification:
    replicaCount: 1
    image:
      tag: staging
    resources:
      limits:
        cpu: 150m
        memory: 96Mi
      requests:
        cpu: 30m
        memory: 32Mi
    env:
      ASPNETCORE_ENVIRONMENT: Staging
    autoscaling:
      enabled: true
      minReplicas: 1
      maxReplicas: 2
      targetCPUUtilizationPercentage: 70

ingress:
  enabled: true
  host: assetcore-staging.example.com
    enabled: false
    secretName: "assetcore-staging-tls"